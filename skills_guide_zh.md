# AI æ™ºèƒ½ä½“æŠ€èƒ½ï¼šå…¨é¢æŠ€æœ¯æŒ‡å—

## æ–‡æ¡£æ¦‚è¿°

AI æ™ºèƒ½ä½“æŠ€èƒ½ä»£è¡¨ç¦»æ•£çš„ã€å¯é‡ç”¨çš„èƒ½åŠ›ï¼Œä½¿æ™ºèƒ½ä»£ç†èƒ½å¤Ÿæ‰§è¡Œç‰¹å®šä»»åŠ¡å¹¶ä¸å…¶ç¯å¢ƒäº¤äº’ã€‚å¯ä»¥æŠŠæŠ€èƒ½è§†ä¸ºä»£ç†åŠŸèƒ½çš„æ„å»ºå—â€”â€”æ¨¡å—åŒ–ç»„ä»¶ï¼Œå¯ä»¥ç»„åˆåˆ›å»ºèƒ½å¤Ÿè¿›è¡Œå¤æ‚æ¨ç†ã€å·¥å…·ä½¿ç”¨å’Œè‡ªä¸»è¡ŒåŠ¨çš„å¤æ‚ AI ç³»ç»Ÿã€‚

**æœ¬æŒ‡å—é€‚ç”¨äºï¼š**
- æ„å»ºä»£ç†ç³»ç»Ÿçš„ AI å¼€å‘è€…
- è®¾è®¡ä»£ç†äº¤äº’çš„æç¤ºå·¥ç¨‹å¸ˆ
- æ¶æ„ AI è§£å†³æ–¹æ¡ˆçš„æŠ€æœ¯è´Ÿè´£äºº
- ä»»ä½•å®ç°å¯¹è¯å¼ AI æˆ–è‡ªä¸»ç³»ç»Ÿçš„äººå‘˜

**å­¦ä¹ è·¯å¾„æ¦‚è¿°ï¼š**
æœ¬æŒ‡å—ä»åŸºæœ¬æŠ€èƒ½æ¦‚å¿µé€æ­¥æ·±å…¥åˆ°é«˜çº§å®ç°æ¨¡å¼ï¼Œæä¾›å®é™…ç¤ºä¾‹å’Œåˆ›å»ºæœ‰æ•ˆ AI ä»£ç†èƒ½åŠ›çš„æœ€ä½³å®è·µã€‚

---

## ç›®å½•

1. [æ ¸å¿ƒæ¦‚å¿µå’Œç»„ä»¶](#æ ¸å¿ƒæ¦‚å¿µå’Œç»„ä»¶)
2. [åŸºæœ¬æŠ€èƒ½ç»“æ„](#åŸºæœ¬æŠ€èƒ½ç»“æ„)
3. [å®é™…åº”ç”¨ç¤ºä¾‹](#å®é™…åº”ç”¨ç¤ºä¾‹)
4. [é«˜çº§ä¸»é¢˜](#é«˜çº§ä¸»é¢˜)
5. [ä¸ç›¸å…³æ¦‚å¿µçš„æ¯”è¾ƒ](#ä¸ç›¸å…³æ¦‚å¿µçš„æ¯”è¾ƒ)
6. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
7. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
8. [æ€»ç»“](#æ€»ç»“)

---

## æ ¸å¿ƒæ¦‚å¿µå’Œç»„ä»¶

### ä»€ä¹ˆæ˜¯ AI æ™ºèƒ½ä½“æŠ€èƒ½ï¼Ÿ

AI æ™ºèƒ½ä½“æŠ€èƒ½æ˜¯**ç¦»æ•£çš„åŠŸèƒ½èƒ½åŠ›**ï¼Œä½¿ä»£ç†èƒ½å¤Ÿï¼š
- âœ… æ‰§è¡Œç‰¹å®šä»»åŠ¡ï¼ˆæ–‡ä»¶æ“ä½œã€API è°ƒç”¨ã€è®¡ç®—ï¼‰
- âœ… ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ï¼ˆæ•°æ®åº“ã€Web æœåŠ¡ã€å·¥å…·ï¼‰
- âœ… å¤„ç†å’Œè½¬æ¢æ•°æ®
- âœ… åŸºäºä¸Šä¸‹æ–‡åšå‡ºå†³ç­–
- âœ… ä¸²è”å¤æ‚å·¥ä½œæµ

### å…³é”®ç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æŠ€èƒ½è¾“å…¥     â”‚ â† ä¸Šä¸‹æ–‡ã€å‚æ•°ã€ç”¨æˆ·æ„å›¾
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æŠ€èƒ½å¤„ç†å™¨    â”‚ â† æ ¸å¿ƒé€»è¾‘ã€éªŒè¯ã€æ‰§è¡Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æŠ€èƒ½è¾“å‡º     â”‚ â† ç»“æœã€çŠ¶æ€ã€ä¸‹ä¸€æ­¥æ“ä½œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç»„ä»¶ï¼š**

1. **è¾“å…¥å¤„ç†å™¨** - éªŒè¯å’Œå¤„ç†ä¼ å…¥è¯·æ±‚
2. **æ‰§è¡Œå¼•æ“** - æ‰§è¡Œæ ¸å¿ƒæŠ€èƒ½åŠŸèƒ½
3. **é”™è¯¯å¤„ç†å™¨** - ç®¡ç†å¼‚å¸¸å’Œè¾¹ç¼˜æƒ…å†µ
4. **è¾“å‡ºæ ¼å¼åŒ–å™¨** - æ„é€ å’Œè¿”å›ç»“æœ
5. **ä¸Šä¸‹æ–‡ç®¡ç†å™¨** - ç»´æŠ¤çŠ¶æ€å’Œä¼šè¯ä¿¡æ¯

---

## åŸºæœ¬æŠ€èƒ½ç»“æ„

### åŸºç¡€æŠ€èƒ½æ¨¡å¼

```python
# åŸºæœ¬æŠ€èƒ½æ¨¡æ¿
class AgentSkill:
    def __init__(self, name, description, parameters):
        self.name = name
        self.description = description
        self.parameters = parameters
        self.metadata = {
            "version": "1.0",
            "category": "utility",
            "requiresAuth": False
        }

    async def validate(self, input):
        """è¾“å…¥éªŒè¯é€»è¾‘"""
        return all(
            param["name"] in input 
            for param in self.parameters 
            if param.get("required", True)
        )

    async def execute(self, input, context):
        """æ ¸å¿ƒæŠ€èƒ½æ‰§è¡Œ"""
        try:
            result = await self.processRequest(input)
            return {
                "success": True,
                "data": result,
                "metadata": self.generateMetadata()
            }
        except Exception as error:
            return self.handleError(error)

    async def processRequest(self, input):
        """åœ¨å…·ä½“æŠ€èƒ½å®ç°ä¸­é‡å†™"""
        raise NotImplementedError("processRequest å¿…é¡»åœ¨å­ç±»ä¸­å®ç°")
```

### æŠ€èƒ½å®šä¹‰æ¨¡å¼

```json
{
  "name": "file_reader",
  "description": "è¯»å–å’Œå¤„ç†æ–‡ä»¶å†…å®¹",
  "version": "1.2.0",
  "category": "file_operations",
  "parameters": [
    {
      "name": "filePath",
      "type": "string",
      "required": true,
      "description": "è¦è¯»å–çš„æ–‡ä»¶è·¯å¾„"
    },
    {
      "name": "encoding",
      "type": "string",
      "required": false,
      "default": "utf-8",
      "description": "æ–‡ä»¶ç¼–ç æ ¼å¼"
    }
  ],
  "returns": {
    "type": "object",
    "properties": {
      "content": "string",
      "metadata": "object",
      "success": "boolean"
    }
  }
}
```

---

## å®é™…åº”ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ–‡ä»¶ç®¡ç†æŠ€èƒ½

```python
class FileManagerSkill(AgentSkill):
    """ç»¼åˆæ–‡ä»¶æ“ä½œæŠ€èƒ½"""
    
    def __init__(self):
        super().__init__(
            name="file_manager",
            description="åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤æ–‡ä»¶å’Œç›®å½•",
            parameters=[
                {"name": "action", "type": "string", "required": True},
                {"name": "path", "type": "string", "required": True},
                {"name": "content", "type": "string", "required": False}
            ]
        )
    
    async def processRequest(self, input):
        action = input.get("action")
        path = input.get("path")
        
        actions = {
            "read": self._read_file,
            "write": self._write_file,
            "delete": self._delete_file,
            "list": self._list_directory
        }
        
        if action not in actions:
            raise ValueError(f"ä¸æ”¯æŒçš„æ“ä½œï¼š{action}")
        
        return await actions[action](path, input.get("content"))
    
    async def _read_file(self, path, content=None):
        """è¯»å–æ–‡ä»¶å†…å®¹å¹¶è¿›è¡Œé”™è¯¯å¤„ç†"""
        try:
            with open(path, 'r', encoding='utf-8') as file:
                return {
                    "content": file.read(),
                    "size": os.path.getsize(path),
                    "modified": os.path.getmtime(path)
                }
        except FileNotFoundError:
            raise Exception(f"æ–‡ä»¶æœªæ‰¾åˆ°ï¼š{path}")
        except PermissionError:
            raise Exception(f"æƒé™è¢«æ‹’ç»ï¼š{path}")
```

### ç¤ºä¾‹ 2ï¼šAPI é›†æˆæŠ€èƒ½

```python
class APIIntegrationSkill(AgentSkill):
    """é€šç”¨ API äº¤äº’èƒ½åŠ›"""
    
    def __init__(self):
        super().__init__(
            name="api_client",
            description="å‘å¤–éƒ¨ API å‘é€ HTTP è¯·æ±‚",
            parameters=[
                {"name": "url", "type": "string", "required": True},
                {"name": "method", "type": "string", "required": False, "default": "GET"},
                {"name": "headers", "type": "object", "required": False},
                {"name": "data", "type": "object", "required": False}
            ]
        )
    
    async def processRequest(self, input):
        import aiohttp
        
        url = input.get("url")
        method = input.get("method", "GET").upper()
        headers = input.get("headers", {})
        data = input.get("data")
        
        async with aiohttp.ClientSession() as session:
            async with session.request(
                method, url, 
                headers=headers, 
                json=data
            ) as response:
                return {
                    "status_code": response.status,
                    "headers": dict(response.headers),
                    "data": await response.json(),
                    "success": 200 <= response.status < 300
                }
```

### ç¤ºä¾‹ 3ï¼šæ•°æ®å¤„ç†æŠ€èƒ½

```python
class DataProcessingSkill(AgentSkill):
    """è½¬æ¢å’Œåˆ†ææ•°æ®"""
    
    def __init__(self):
        super().__init__(
            name="data_processor",
            description="å¤„ç†ã€è½¬æ¢å’Œåˆ†ææ•°æ®",
            parameters=[
                {"name": "data", "type": "array", "required": True},
                {"name": "operation", "type": "string", "required": True},
                {"name": "filters", "type": "object", "required": False}
            ]
        )
    
    async def processRequest(self, input):
        data = input.get("data")
        operation = input.get("operation")
        filters = input.get("filters", {})
        
        # é¦–å…ˆåº”ç”¨è¿‡æ»¤å™¨
        if filters:
            data = self._apply_filters(data, filters)
        
        # æ ¹æ®æ“ä½œè¿›è¡Œå¤„ç†
        operations = {
            "aggregate": self._aggregate_data,
            "transform": self._transform_data,
            "analyze": self._analyze_data,
            "sort": self._sort_data
        }
        
        if operation not in operations:
            raise ValueError(f"ä¸æ”¯æŒçš„æ“ä½œï¼š{operation}")
        
        result = operations[operation](data, input)
        
        return {
            "processed_data": result,
            "record_count": len(result) if isinstance(result, list) else 1,
            "operation": operation
        }
```

---

## é«˜çº§ä¸»é¢˜

### æŠ€èƒ½ç»„åˆå’Œé“¾å¼è°ƒç”¨

```python
class SkillOrchestrator:
    """ç®¡ç†æŠ€èƒ½æ‰§è¡Œå·¥ä½œæµ"""
    
    def __init__(self):
        self.skills = {}
        self.execution_history = []
    
    def register_skill(self, skill):
        """æ³¨å†Œæ–°æŠ€èƒ½"""
        self.skills[skill.name] = skill
    
    async def execute_workflow(self, workflow_definition):
        """æ‰§è¡ŒæŠ€èƒ½åºåˆ—"""
        results = {}
        
        for step in workflow_definition.get("steps", []):
            skill_name = step["skill"]
            step_input = step.get("input", {})
            
            # æ”¯æŒä»å‰é¢æ­¥éª¤çš„å˜é‡æ›¿æ¢
            step_input = self._substitute_variables(step_input, results)
            
            if skill_name not in self.skills:
                raise ValueError(f"æŠ€èƒ½æœªæ‰¾åˆ°ï¼š{skill_name}")
            
            skill_result = await self.skills[skill_name].execute(
                step_input, 
                {
                    "workflow": workflow_definition, 
                    "previous_results": results
                }
            )
            
            results[step["name"]] = skill_result
            
            # å¤„ç†æ¡ä»¶æ‰§è¡Œ
            if step.get("condition") and not self._evaluate_condition(
                step["condition"], results
            ):
                break
        
        return results
```

### æŠ€èƒ½å‘ç°å’ŒåŠ¨æ€åŠ è½½

```python
class SkillRegistry:
    """åŠ¨æ€æŠ€èƒ½å‘ç°å’Œç®¡ç†"""
    
    def __init__(self):
        self.skills = {}
        self.skill_paths = []
    
    def discover_skills(self, directory_path):
        """è‡ªåŠ¨å‘ç°å’ŒåŠ è½½æŠ€èƒ½"""
        import importlib.util
        import os
        
        for file_name in os.listdir(directory_path):
            if file_name.endswith('_skill.py'):
                skill_path = os.path.join(directory_path, file_name)
                spec = importlib.util.spec_from_file_location(
                    file_name[:-3], skill_path
                )
                module = importlib.util.module_from_spec(spec)
                spec.loader.exec_module(module)
                
                # æŸ¥æ‰¾æŠ€èƒ½ç±»
                for attr_name in dir(module):
                    attr = getattr(module, attr_name)
                    if (isinstance(attr, type) and 
                        issubclass(attr, AgentSkill) and 
                        attr != AgentSkill):
                        skill_instance = attr()
                        self.register_skill(skill_instance)
    
    def get_skill_metadata(self):
        """è¿”å›æ‰€æœ‰æ³¨å†ŒæŠ€èƒ½çš„å…ƒæ•°æ®"""
        return {
            name: {
                "description": skill.description,
                "parameters": skill.parameters,
                "category": skill.metadata.get("category", "general")
            }
            for name, skill in self.skills.items()
        }
```

### ä¸Šä¸‹æ–‡æ„ŸçŸ¥æŠ€èƒ½æ‰§è¡Œ

```python
class ContextAwareSkill(AgentSkill):
    """æ ¹æ®æ‰§è¡Œä¸Šä¸‹æ–‡è‡ªé€‚åº”çš„æŠ€èƒ½"""
    
    async def execute(self, input, context):
        # åˆ†æä¸Šä¸‹æ–‡ä»¥å¯»æ‰¾ä¼˜åŒ–æœºä¼š
        execution_context = self._analyze_context(context)
        
        # æ ¹æ®ä¸Šä¸‹æ–‡è°ƒæ•´è¡Œä¸º
        if execution_context.get("performance_mode") == "fast":
            return await self._fast_execution(input, context)
        elif execution_context.get("accuracy_mode") == "high":
            return await self._accurate_execution(input, context)
        else:
            return await self._balanced_execution(input, context)
    
    def _analyze_context(self, context):
        """æå–æœ‰æ„ä¹‰çš„ä¸Šä¸‹æ–‡ä¿¡æ¯"""
        return {
            "user_preferences": context.get("user_preferences", {}),
            "system_resources": context.get("system_resources", {}),
            "execution_history": context.get("execution_history", []),
            "time_constraints": context.get("time_constraints"),
            "quality_requirements": context.get("quality_requirements")
        }
```

---

## ä¸ç›¸å…³æ¦‚å¿µçš„æ¯”è¾ƒ

### æŠ€èƒ½ vs å‡½æ•° vs å·¥å…· vs æ’ä»¶

| æ–¹é¢ | AI æŠ€èƒ½ | å‡½æ•° | å·¥å…· | æ’ä»¶ |
|------|---------|------|------|------|
| **èŒƒå›´** | é¢†åŸŸç‰¹å®šèƒ½åŠ› | å•ä¸€ç”¨é€”æ“ä½œ | ç³»ç»Ÿé›†æˆ | åŠŸèƒ½æ‰©å±• |
| **å¤æ‚åº¦** | ä¸­åˆ°é«˜ | ä½åˆ°ä¸­ | ä¸­ | é«˜ |
| **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** | âœ… é«˜ | âŒ ä½ | âš ï¸ ä¸­ | âœ… é«˜ |
| **å¯é‡ç”¨æ€§** | âœ… é«˜ | âœ… é«˜ | âš ï¸ ä¸­ | âŒ ä½ |
| **çŠ¶æ€ç®¡ç†** | âœ… å†…ç½® | âŒ æ— çŠ¶æ€ | âš ï¸ æœ‰é™ | âœ… é«˜çº§ |
| **é”™è¯¯å¤„ç†** | âœ… å…¨é¢ | âš ï¸ åŸºç¡€ | âš ï¸ å¯å˜ | âœ… é«˜çº§ |
| **å¯ç»„åˆæ€§** | âœ… åŸç”Ÿæ”¯æŒ | âš ï¸ æ‰‹åŠ¨ | âš ï¸ æœ‰é™ | âœ… ä¾èµ–æ¡†æ¶ |

### ä½•æ—¶ä½¿ç”¨å„ç§æ–¹æ³•

**ä½¿ç”¨ AI æŠ€èƒ½å½“ï¼š**
- âœ… æ„å»ºå¯¹è¯å¼ AI ä»£ç†
- âœ… éœ€è¦ä¸Šä¸‹æ–‡æ„ŸçŸ¥è¡Œä¸º
- âœ… éœ€è¦å¤æ‚é”™è¯¯å¤„ç†
- âœ… æƒ³è¦ç»„åˆå¤šç§èƒ½åŠ›

**ä½¿ç”¨å‡½æ•°å½“ï¼š**
- âœ… ç®€å•ã€æ— çŠ¶æ€æ“ä½œ
- âœ… æ•°å­¦è®¡ç®—
- âœ… æ•°æ®è½¬æ¢
- âœ… å®ç”¨ç¨‹åºæ“ä½œ

**ä½¿ç”¨å·¥å…·å½“ï¼š**
- âœ… éœ€è¦ç³»ç»Ÿé›†æˆ
- âœ… å¤–éƒ¨ API äº¤äº’
- âœ… æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- âœ… æ•°æ®åº“è¿æ¥

**ä½¿ç”¨æ’ä»¶å½“ï¼š**
- âœ… æ‰©å±•ç°æœ‰å¹³å°
- âœ… æ¡†æ¶ç‰¹å®šåŠŸèƒ½
- âœ… ç”¨æˆ·ç•Œé¢æ‰©å±•
- âœ… å¹³å°ç”Ÿæ€ç³»ç»Ÿé›†æˆ

---

## æœ€ä½³å®è·µ

### ğŸ¯ æŠ€èƒ½è®¾è®¡åŸåˆ™

#### 1. å•ä¸€è´£ä»»åŸåˆ™
```python
# âœ… å¥½ï¼šä¸“æ³¨ã€å•ä¸€ç”¨é€”æŠ€èƒ½
class EmailSenderSkill(AgentSkill):
    """ä¸“é—¨ç”¨äºç”µå­é‚®ä»¶å‘é€æ“ä½œ"""
    pass

# âŒ åï¼šå¤šä¸ªä¸ç›¸å…³çš„è´£ä»»
class CommunicationSkill(AgentSkill):
    """å¤„ç†ç”µå­é‚®ä»¶ã€çŸ­ä¿¡ã€æ¨é€é€šçŸ¥å’Œæ–‡ä»¶å…±äº«"""
    pass
```

#### 2. æ¸…æ™°çš„è¾“å…¥/è¾“å‡ºçº¦å®š
```python
# âœ… å¥½ï¼šå®šä¹‰è‰¯å¥½çš„å‚æ•°å’Œè¿”å›ç±»å‹
{
  "name": "calculate_distance",
  "parameters": {
    "start_lat": {"type": "float", "range": [-90, 90]},
    "start_lng": {"type": "float", "range": [-180, 180]},
    "end_lat": {"type": "float", "range": [-90, 90]},
    "end_lng": {"type": "float", "range": [-180, 180]}
  },
  "returns": {
    "distance_km": "float",
    "distance_miles": "float",
    "calculation_method": "string"
  }
}

# âŒ åï¼šæ¨¡ç³Šçš„å‚æ•°
{
  "name": "do_location_stuff",
  "parameters": {
    "data": "object"  # ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Ÿ
  }
}
```

### ğŸ”§ å®ç°æŒ‡å—

#### 1. é”™è¯¯å¤„ç†ç­–ç•¥
```python
class RobustSkill(AgentSkill):
    async def execute(self, input, context):
        try:
            # é¦–å…ˆéªŒè¯è¾“å…¥
            if not await self.validate(input):
                return self._error_response("VALIDATION_FAILED", 
                                          "è¾“å…¥éªŒè¯å¤±è´¥")
            
            # å¸¦è¶…æ—¶æ‰§è¡Œ
            result = await asyncio.wait_for(
                self.processRequest(input), 
                timeout=context.get('timeout', 30)
            )
            
            return self._success_response(result)
            
        except asyncio.TimeoutError:
            return self._error_response("TIMEOUT", "æ“ä½œè¶…æ—¶")
        except ValueError as e:
            return self._error_response("INVALID_INPUT", str(e))
        except Exception as e:
            # è®°å½•æ„å¤–é”™è¯¯
            logger.exception("æŠ€èƒ½æ‰§è¡Œä¸­çš„æ„å¤–é”™è¯¯")
            return self._error_response("INTERNAL_ERROR", 
                                      "å‘ç”Ÿæ„å¤–é”™è¯¯")
```

#### 2. èµ„æºç®¡ç†
```python
class ResourceManagedSkill(AgentSkill):
    def __init__(self):
        super().__init__()
        self.resource_pool = None
        self.max_concurrent = 5
    
    async def __aenter__(self):
        """èµ„æºåˆ†é…çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨"""
        self.resource_pool = await self._acquire_resources()
        return self
    
    async def __aexit__(self, exc_type, exc_val, exc_tb):
        """æ¸…ç†èµ„æº"""
        if self.resource_pool:
            await self._release_resources()
```

### ğŸ“‹ å‘½åçº¦å®š

#### æŠ€èƒ½å‘½å
- **æ¨¡å¼**ï¼š`{é¢†åŸŸ}_{åŠ¨ä½œ}` æˆ– `{åŠ¨ä½œ}_{ç›®æ ‡}`
- **ç¤ºä¾‹**ï¼š
  - âœ… `file_reader`ã€`email_sender`ã€`data_analyzer`
  - âŒ `FileReaderSkillClass`ã€`doEmailStuff`ã€`helper_util`

#### å‚æ•°å‘½å
- **ä½¿ç”¨æè¿°æ€§ã€æ˜ç¡®çš„åç§°**
- **éµå¾ªè¯­è¨€çº¦å®š**
- **ç¤ºä¾‹**ï¼š
  - âœ… `file_path`ã€`email_address`ã€`start_date`
  - âŒ `fp`ã€`addr`ã€`dt`

### ğŸ”„ æµ‹è¯•ç­–ç•¥

```python
class TestSkillFramework:
    """å…¨é¢çš„æŠ€èƒ½æµ‹è¯•æ–¹æ³•"""
    
    async def test_skill_execution(self, skill, test_cases):
        """ç”¨å¤šä¸ªåœºæ™¯æµ‹è¯•æŠ€èƒ½"""
        results = []
        
        for test_case in test_cases:
            result = await skill.execute(
                test_case["input"], 
                test_case.get("context", {})
            )
            
            # éªŒè¯ç»“æœç»“æ„
            assert "success" in result
            assert "data" in result or "error" in result
            
            # æ£€æŸ¥é¢„æœŸç»“æœ
            if test_case.get("should_succeed", True):
                assert result["success"] == True
            else:
                assert result["success"] == False
                assert "error" in result
            
            results.append(result)
        
        return results
```

---

## æ•…éšœæ’é™¤

### ğŸ› å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### é—®é¢˜ 1ï¼šæŠ€èƒ½æ‰§è¡Œè¶…æ—¶
**ç—‡çŠ¶ï¼š**
- æŠ€èƒ½æ— é™æœŸæŒ‚èµ·
- æ—¥å¿—ä¸­çš„è¶…æ—¶å¼‚å¸¸
- ç”¨æˆ·ä½“éªŒå·®

**è§£å†³æ–¹æ¡ˆï¼š**
```python
# âœ… æ·»åŠ è¶…æ—¶å¤„ç†
async def execute_with_timeout(self, input, context):
    timeout = context.get('timeout', 30)  # é»˜è®¤ 30 ç§’
    try:
        return await asyncio.wait_for(
            self.processRequest(input), 
            timeout=timeout
        )
    except asyncio.TimeoutError:
        # æ¸…ç†å¹¶è¿”å›ä¼˜é›…é”™è¯¯
        await self._cleanup_resources()
        return self._timeout_error_response()
```

#### é—®é¢˜ 2ï¼šé•¿æ—¶é—´è¿è¡ŒæŠ€èƒ½çš„å†…å­˜æ³„æ¼
**ç—‡çŠ¶ï¼š**
- å†…å­˜ä½¿ç”¨é€æ¸å¢åŠ 
- éšæ—¶é—´ç³»ç»Ÿå˜æ…¢
- å†…å­˜ä¸è¶³é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```python
# âœ… å®ç°é€‚å½“çš„èµ„æºç®¡ç†
class MemoryEfficientSkill(AgentSkill):
    def __init__(self):
        super().__init__()
        self._temp_files = []
        self._open_connections = []
    
    async def __del__(self):
        """å¯¹è±¡é”€æ¯æ—¶æ¸…ç†èµ„æº"""
        await self._cleanup_temp_files()
        await self._close_connections()
    
    async def _cleanup_temp_files(self):
        for temp_file in self._temp_files:
            try:
                os.remove(temp_file)
            except FileNotFoundError:
                pass
        self._temp_files.clear()
```

#### é—®é¢˜ 3ï¼šä¸ä¸€è‡´çš„é”™è¯¯å“åº”
**ç—‡çŠ¶ï¼š**
- ä¸åŒæŠ€èƒ½çš„é”™è¯¯æ ¼å¼ä¸åŒ
- éš¾ä»¥ç¨‹åºåŒ–å¤„ç†é”™è¯¯
- ç”¨æˆ·ä½“éªŒå·®

**è§£å†³æ–¹æ¡ˆï¼š**
```python
# âœ… æ ‡å‡†åŒ–é”™è¯¯å“åº”æ ¼å¼
class StandardErrorSkill(AgentSkill):
    def _error_response(self, error_code, message, details=None):
        return {
            "success": False,
            "error": {
                "code": error_code,
                "message": message,
                "details": details or {},
                "timestamp": datetime.utcnow().isoformat(),
                "skill": self.name
            }
        }
```

### ğŸ” è°ƒè¯•æ£€æŸ¥æ¸…å•

- [ ] **è¾“å…¥éªŒè¯**ï¼šæ˜¯å¦å­˜åœ¨æ‰€æœ‰å¿…éœ€å‚æ•°ä¸”æœ‰æ•ˆï¼Ÿ
- [ ] **èµ„æºå¯ç”¨æ€§**ï¼šå¤–éƒ¨æœåŠ¡/æ–‡ä»¶æ˜¯å¦å¯è®¿é—®ï¼Ÿ
- [ ] **æƒé™**ï¼šä»£ç†æ˜¯å¦å…·æœ‰å¿…è¦æƒé™ï¼Ÿ
- [ ] **ç½‘ç»œè¿æ¥**ï¼šAPI ç«¯ç‚¹æ˜¯å¦å¯è¾¾ï¼Ÿ
- [ ] **å†…å­˜ä½¿ç”¨**ï¼šæŠ€èƒ½æ˜¯å¦é«˜æ•ˆç®¡ç†å†…å­˜ï¼Ÿ
- [ ] **é”™è¯¯å¤„ç†**ï¼šæ˜¯å¦æ­£ç¡®æ•è·æ‰€æœ‰å¼‚å¸¸ç±»å‹ï¼Ÿ
- [ ] **æ—¥å¿—è®°å½•**ï¼šæ˜¯å¦æœ‰è¶³å¤Ÿçš„æ—¥å¿—ç”¨äºæ•…éšœæ’é™¤ï¼Ÿ
- [ ] **ä¸Šä¸‹æ–‡æœ‰æ•ˆæ€§**ï¼šæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯å¦å®Œæ•´ä¸”æœ‰æ•ˆï¼Ÿ

### â“ å¸¸è§é—®é¢˜è§£ç­”

**é—®ï¼šå¦‚ä½•å¤„ç†ä¾èµ–å¤–éƒ¨æœåŠ¡çš„æŠ€èƒ½ï¼Ÿ**
ç­”ï¼šå®ç°æ–­è·¯å™¨æ¨¡å¼å’Œä¼˜é›…é™çº§ï¼š

```python
class ExternalServiceSkill(AgentSkill):
    def __init__(self):
        super().__init__()
        self.circuit_breaker = CircuitBreaker(
            failure_threshold=5,
            timeout=60
        )
    
    async def processRequest(self, input):
        if self.circuit_breaker.is_open:
            return await self._fallback_response(input)
        
        try:
            result = await self._call_external_service(input)
            self.circuit_breaker.record_success()
            return result
        except Exception as e:
            self.circuit_breaker.record_failure()
            raise e
```

**é—®ï¼šå¦‚ä½•åœ¨ä¸ç ´åç°æœ‰ä»£ç†çš„æƒ…å†µä¸‹å¯¹æŠ€èƒ½è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Ÿ**
ç­”ï¼šä½¿ç”¨è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶å¹¶ä¿æŒå‘åå…¼å®¹æ€§ï¼š

```python
class VersionedSkill(AgentSkill):
    def __init__(self):
        super().__init__()
        self.version = "2.1.0"
        self.supported_versions = ["1.0", "2.0", "2.1"]
    
    async def execute(self, input, context):
        client_version = context.get('skill_version', '1.0')
        
        if client_version not in self.supported_versions:
            return self._unsupported_version_error(client_version)
        
        # æ ¹æ®ç‰ˆæœ¬è·¯ç”±åˆ°é€‚å½“çš„å¤„ç†ç¨‹åº
        handler = getattr(self, f'_execute_v{client_version.replace(".", "_")}')
        return await handler(input, context)
```

---

## æ€»ç»“

### ğŸ”‘ å…³é”®è¦ç‚¹

1. **æ¨¡å—åŒ–è®¾è®¡**ï¼šæŠ€èƒ½æ˜¯ç¦»æ•£çš„ã€å¯é‡ç”¨çš„èƒ½åŠ›ï¼Œå¯ä»¥ç»„åˆåˆ›å»ºå¤æ‚çš„ä»£ç†è¡Œä¸º
2. **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šæŠ€èƒ½åº”æ ¹æ®æ‰§è¡Œä¸Šä¸‹æ–‡å’Œç”¨æˆ·åå¥½è°ƒæ•´å…¶è¡Œä¸º
3. **é”™è¯¯éŸ§æ€§**ï¼šå…¨é¢çš„é”™è¯¯å¤„ç†å’Œä¼˜é›…é™çº§å¯¹äºç”Ÿäº§ç³»ç»Ÿè‡³å…³é‡è¦
4. **èµ„æºç®¡ç†**ï¼šé€‚å½“çš„æ¸…ç†å’Œèµ„æºç®¡ç†é˜²æ­¢å†…å­˜æ³„æ¼å’Œç³»ç»Ÿé€€åŒ–
5. **æµ‹è¯•ç­–ç•¥**ï¼šå¤šåœºæ™¯çš„å…¨é¢æµ‹è¯•ç¡®ä¿æŠ€èƒ½å¯é æ€§

### ğŸš€ å¿«é€Ÿå¼€å§‹æ­¥éª¤

1. **å®šä¹‰ä½ çš„æŠ€èƒ½**
   ```python
   class MySkill(AgentSkill):
       def __init__(self):
           super().__init__(name="my_skill", description="...", parameters=[...])
   ```

2. **å®ç°æ ¸å¿ƒé€»è¾‘**
   ```python
   async def processRequest(self, input):
       # ä½ çš„æŠ€èƒ½é€»è¾‘åœ¨è¿™é‡Œ
       return result
   ```

3. **æ·»åŠ é”™è¯¯å¤„ç†**
   ```python
   try:
       result = await self.processRequest(input)
       return self._success_response(result)
   except Exception as e:
       return self._error_response("ERROR_CODE", str(e))
   ```

4. **å½»åº•æµ‹è¯•**
   ```python
   test_cases = [
       {"input": {...}, "should_succeed": True},
       {"input": {...}, "should_succeed": False}
   ]
   await self.test_skill_execution(skill, test_cases)
   ```

5. **æ³¨å†Œå’Œéƒ¨ç½²**
   ```python
   registry = SkillRegistry()
   registry.register_skill(MySkill())
   ```

### ğŸ¯ ä¸‹ä¸€æ­¥

- **æ¢ç´¢é«˜çº§æ¨¡å¼**ï¼šç ”ç©¶æŠ€èƒ½ç»„åˆå’Œç¼–æ’
- **æ„å»ºæŠ€èƒ½åº“**ï¼šä¸ºå¸¸è§é¢†åŸŸåˆ›å»ºå¯é‡ç”¨çš„æŠ€èƒ½é›†åˆ
- **ç›‘æ§æ€§èƒ½**ï¼šä¸ºç”Ÿäº§æŠ€èƒ½å®ç°æ—¥å¿—è®°å½•å’ŒæŒ‡æ ‡
- **ç¤¾åŒºè´¡çŒ®**ï¼šåˆ†äº«å’Œåä½œå¼€æºæŠ€èƒ½åº“
- **é›†æˆ**ï¼šå°†æŠ€èƒ½ä¸æµè¡Œçš„ä»£ç†æ¡†æ¶å’Œå¹³å°è¿æ¥

---

*æœ¬æŒ‡å—ä»£è¡¨äº† AI æ™ºèƒ½ä½“æŠ€èƒ½å¼€å‘çš„å½“å‰æœ€ä½³å®è·µã€‚éšç€é¢†åŸŸçš„å‘å±•ï¼Œç»§ç»­å°†è¿™äº›æ¨¡å¼é€‚åº”æ–°æ¡†æ¶å’Œæ–°å…´éœ€æ±‚ã€‚*
